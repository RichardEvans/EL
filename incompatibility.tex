\section{Incompatibility semantics}\label{incompatibility}

\martin{This chapter is too short.}

\NI One of eremic logic's key features is that it satisfies Brandom's
incompatibility semantics property. In this section we formalise what
this means and prove it.

Define the set of formulae\footnote{Brandom \cite{brandom} defines
  incompatibility slightly differently: he defines the set of
  \emph{sets} of formulae which are incompatible with a \emph{set} of
  formulae.  But in \ELABR{}, if a set of formulae is incompatible,
  then there is an incompatible subset of that set with exactly two
  members.  So we can work with the simpler definition in the text
  above.}  incompatible with $\phi$ as:
\[
\mathcal{I}(\phi) = \{ \psi \; | \; \SIMPL{\phi} \sqcap \SIMPL{\psi} = \bot \}
\]
\martin{this definition is ad-hoc. WHat about $\mathcal{I}(\phi) = \{
  \psi \; | \; \forall \MMM. \MMM \not \models \phi \AND \psi\}$}  \ELABR{}
satisfies Robert Brandom's \textbf{incompatibility semantics}
property:
\[
\phi \models \psi \; \mbox{ iff } \; \mathcal{I}(\psi) \subseteq \mathcal{I}(\phi)
\]
Before proving this, we discuss why satisfying this incompatibility
semantics property is important.  Not all logics satisfy this
property.  Brandom has shown that First Order Logic and S5 satisfy the
incompatibility semantics property, but it is an open question which
other logics satisfy it.  HML satisfies it, but HML without negation
does not.  \ELABR{} is the \emph{simplest logic we have found} that
satisfies the property.

To prove this, we need to first define a related incompatibility function on  models.
$\mathcal{J}(\MMM)$ is the set of models that are incompatible with $\MMM$:
\[
\mathcal{J}(\MMM) = \{ \MMM_2 \; | \; \MMM \sqcap \MMM_2 = \bot \}
\]
We shall make use of two lemmas (proved in the Appendix):
\begin{lemma}
\label{inc1}
$\mbox{if }\phi \models \psi \mbox{ then } \SIMPL{\phi} \MODELLEQ \SIMPL{\psi}$
\end{lemma}
\begin{lemma}
\label{inc3}
$\mbox{if }\mathcal{I}(\psi) \subseteq \mathcal{I}(\phi) \mbox{ then } \mathcal{J}(\SIMPL{\psi}) \subseteq \mathcal{J}(\SIMPL{\phi})$
\end{lemma}

\begin{theorem}
\label{incompatibilitytheorem}
$\phi \models \psi \; \mbox{ iff } \; \mathcal{I}(\psi) \subseteq \mathcal{I}(\phi)$
\end{theorem}

\begin{proof}

Left to right: Assume $\phi \models \psi$ and $\xi \in \mathcal{I}(\psi)$.  
We need to show $\xi \in \mathcal{I}(\phi)$.
By the definition of $\mathcal{I}$, if $\xi \in \mathcal{I}(\psi)$ then
$\SIMPL{\xi} \sqcap \SIMPL{\psi} = \bot$.
If $\SIMPL{\xi} \sqcap \SIMPL{\psi} = \bot$, then either
\begin{itemize}
\item $\SIMPL{\xi} = \bot$
\item $\SIMPL{\psi} = \bot$
\item Neither $\SIMPL{\xi}$ nor $\SIMPL{\psi}$ are $\bot$, but $\SIMPL{\xi} \sqcap \SIMPL{\psi} = \bot$.
\end{itemize}
If $\SIMPL{\xi} = \bot$, then $\SIMPL{\xi} \sqcap \SIMPL{\phi} = \bot$ and we are done.
If $\SIMPL{\psi} = \bot$, then as $\phi \models \psi$, by Lemma \ref{inc1}, $\SIMPL{\phi} \MODELLEQ \SIMPL{\psi}$.
Now the only model that is $\MODELLEQ \bot$ is $\bot$ itself, so $\SIMPL{\phi} = \bot$. Hence $\SIMPL{\xi} \sqcap \SIMPL{\phi} = \bot$, and we are done.
The interesting case is when neither $\SIMPL{\xi}$ nor $\SIMPL{\psi}$ are $\bot$, but $\SIMPL{\xi} \sqcap \SIMPL{\psi} = \bot$.
Then (by the definition of $\mathsf{consistent}$ in Section \ref{simpl}), either $\mathsf{out}(\SIMPL{\xi}) \nsubseteq \lambda(\SIMPL{\psi})$ or $\mathsf{out}(\SIMPL{\psi}) \nsubseteq \lambda(\SIMPL{\xi})$.
In the first sub-case, if  $\mathsf{out}(\SIMPL{\xi}) \nsubseteq \lambda(\SIMPL{\psi})$, then there is some action $a$ such that $\xi \models \MAY{a} \top$ and $a \notin \lambda(\SIMPL{\psi})$.
If $a \notin \lambda(\SIMPL{\psi})$ then $\psi \models ! A$ where $a \notin A$.
Now $\phi \models \psi$, so $\phi \models ! A$.
In other words, $\phi$ also entails the $A$-restriction that rules out the $a$ transition.
So $\SIMPL{\xi} \sqcap \SIMPL{\phi} = \bot$ and $\xi \in \mathcal{I}(\phi)$.
In the second sub-case, $\mathsf{out}(\SIMPL{\psi}) \nsubseteq \lambda(\SIMPL{\xi})$.
Then there is some action $a$ such that $\psi \models \MAY{a} \top$ and $a \notin \lambda(\SIMPL{\xi})$.
If $a \notin \lambda(\SIMPL{\xi})$ then $\xi \models ! A$ where $a \notin A$.
But if $\psi \models \MAY{a} \top$ and $\phi \models \psi$, then $\phi \models \MAY{a} \top$ and $\phi$ is also incompatible with $\xi$'s $A$-restriction.
So $\SIMPL{\xi} \sqcap \SIMPL{\phi} = \bot$ and $\xi \in \mathcal{I}(\phi)$.

Right to left: assume, for reductio, that $\MMM \models \phi$ and $\MMM \nvDash
\psi$. we will show that $\mathcal{I}(\psi) \nsubseteq \mathcal{I}(\phi)$.
Assume $\MMM \models \phi \mbox{ and } \MMM \nvDash \psi$. We will construct
another model $\MMM_2$ such that $\MMM_2 \in \mathcal{J}(\SIMPL{\psi})$ but $\MMM_2
\notin \mathcal{J}(\SIMPL{\phi})$.  This will entail, via Lemma \ref{inc3}, that
$\mathcal{I}(\psi) \nsubseteq \mathcal{I}(\phi)$.

If $\MMM \nvDash \psi$, then there is a formula $\psi'$ that does not contain
$\AND$ such that $\psi \models \psi'$ and $\MMM \nvDash \psi'$. $\psi'$ must be
either of the form (i) $\langle a_1 \rangle ... \langle a_n \rangle
\top$ (for $n > 0$) or (ii) of the form $\langle a_1 \rangle
... \langle a_n \rangle \; !\{A\}$ where $A \subseteq \mathcal{S}
\mbox{ and } n >= 0$.

In case (i), there must be an $i$ between $0$ and $n$ such that $\MMM
\models \langle a_1 \rangle ... \langle a_i \rangle \top$ but $\MMM
\nvDash \langle a_1 \rangle ... \langle a_{i+1} \rangle \top$. We need
to construct another model $\MMM_2$ such that $\MMM_2 \sqcap \SIMPL{\psi} = \bot$,
but $\MMM_2 \sqcap \SIMPL{\phi} \neq \bot$. Letting $\MMM =
((\mathcal{W},\rightarrow,\lambda),w)$, then $\MMM \models \langle a_1
\rangle ... \langle a_i \rangle \top$ implies that there is at least
one sequence of states of the form $w, w_1, ..., w_i$ such that $w
\xrightarrow{a_1} w_1 \rightarrow ... \xrightarrow{a_i} w_i$.  Now let
$\MMM_2$ be just like $\MMM$ but with additional transition-restrictions on
each $w_i$ that it not include $a_{i+1}$.  In other words,
$\lambda_{\MMM_2}(w_i) = \lambda_\MMM(w_i) - \{a_{i+1}\}$ for all $w_i$ in
sequences of the form $w \xrightarrow{a_1} w_1 \rightarrow
... \xrightarrow{a_i} w_i$. Now $\MMM_2 \sqcap \SIMPL{\psi} = \bot$ because of
the additional transition restriction we added to $\MMM_2$, which rules out
$\langle a_1 \rangle ... \langle a_{i+1} \rangle \top$, and
a-forteriori $\psi$. But $\MMM_2 \sqcap \SIMPL{\phi} \neq \bot$, because $\MMM
\models \phi$ and $\MMM_2 \MODELLEQ \MMM$ together imply $\MMM_2 \models \phi$. So $\MMM_2$ is
indeed the model we were looking for, that is incompatible with
$\SIMPL{\psi}$ while being compatible with $\SIMPL{\phi}$.

In case (ii), $\MMM \models \langle a_1 \rangle ... \langle a_n \rangle
\top$ but $\MMM \nvDash \langle a_1 \rangle ... \langle a_n \rangle !A$
for some $A \subset \mathcal{S}$. We need to produce a model $\MMM_2$ that
is incompatible with $\SIMPL{\psi}$ but not with $\SIMPL{\phi}$. Given that
$\MMM \models \langle a_1 \rangle ... \langle a_n \rangle \top$, there is
a sequence of states $w, w_1, ..., w_n$ such that $w \xrightarrow{a_1}
w_1 \rightarrow ... \xrightarrow{a_i} w_n$. Let $\MMM_2$ be the model just
like $\MMM$ except it has an additional transition from each such $w_n$
with a symbol $a \notin A$. 
Clearly, $\MMM_2 \sqcap \SIMPL{\psi'} = \bot$
because of the additional $a$-transition, and given that $\psi \models
\psi'$, it follows that $\MMM_2 \sqcap \SIMPL{\psi} = \bot$. Also, $\MMM_2 \sqcap
\SIMPL{\phi} \neq \bot$, because $\MMM_2 \MODELLEQ \MMM$ and $\MMM \models \phi$.


\end{proof}
